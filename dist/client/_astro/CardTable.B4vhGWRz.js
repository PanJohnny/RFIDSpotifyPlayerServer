import{r as h}from"./index.BL7xzsR_.js";var x={exports:{}},l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p;function g(){if(p)return l;p=1;var o=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function a(c,r,n){var s=null;if(n!==void 0&&(s=""+n),r.key!==void 0&&(s=""+r.key),"key"in r){n={};for(var d in r)d!=="key"&&(n[d]=r[d])}else n=r;return r=n.ref,{$$typeof:o,type:c,key:s,ref:r!==void 0?r:null,props:n}}return l.Fragment=u,l.jsx=a,l.jsxs=a,l}var j;function T(){return j||(j=1,x.exports=g()),x.exports}var e=T();function S(){const[o,u]=h.useState([]),[a,c]=h.useState({id:"",uri:"",active:!1,action:""}),[r,n]=h.useState(!1),s=async()=>{try{const i=await(await fetch("/api/v1/cards")).json();u(i)}catch(t){console.error("Error fetching cards:",t)}};h.useEffect(()=>{s()},[]);const d=t=>{const{name:i,value:k,type:C,checked:b}=t.target;c(R=>({...R,[i]:C==="checkbox"?b:k}))},f=async t=>{if(t.preventDefault(),o.find(i=>i.id===a.id)){alert("A card with this ID already exists. Please use a unique ID or edit the existing card.");return}try{await fetch("/api/v1/cards",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c({id:"",uri:"",active:!1,action:""}),s()}catch(i){console.error("Error adding card:",i)}},v=async t=>{t.preventDefault();try{await fetch("/api/v1/cards",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n(!1),c({id:"",uri:"",active:!1,action:""}),s()}catch(i){console.error("Error updating card:",i)}},y=async t=>{if(window.confirm("Are you sure you want to delete this card?"))try{await fetch("/api/v1/cards",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}),s()}catch(i){console.error("Error deleting card:",i)}},m=t=>{n(!0),c(t)},E=()=>{n(!1),c({id:"",uri:"",active:!1,action:""})};return e.jsxs("div",{children:[e.jsx("h2",{children:"Karty"}),e.jsxs("table",{border:"1",cellPadding:"5",cellSpacing:"0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"URI"}),e.jsx("th",{title:"Přiložena",children:"Aktivní"}),e.jsx("th",{children:"Akce"}),e.jsx("th",{children:"Úpravy"})]})}),e.jsxs("tbody",{children:[o.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.uri}),e.jsx("td",{children:t.active?"Yes":"No"}),e.jsx("td",{children:t.action}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>m(t),children:"Edit"}),e.jsx("button",{onClick:()=>y(t.id),children:"Delete"})]})]},t.id)),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",style:{textAlign:"center"},children:"No cards found."})})]})]}),e.jsx("h2",{children:r?"Přidej kartu":"Uprav kartu"}),e.jsxs("form",{onSubmit:r?v:f,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"id",children:"ID:"}),e.jsx("input",{type:"text",id:"id",name:"id",value:a.id,onChange:d,placeholder:"ID",disabled:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"uri",children:"URI:"}),e.jsx("input",{type:"text",id:"uri",name:"uri",value:a.uri,onChange:d,placeholder:"URI",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"active",children:"Aktivní (pouze pro testování):"}),e.jsx("input",{type:"checkbox",id:"active",name:"active",checked:a.active,onChange:d})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"action",children:"Akce (play, queue, state):"}),e.jsx("input",{type:"text",id:"action",name:"action",value:a.action,onChange:d,placeholder:"Action",required:!0})]}),e.jsxs("div",{style:{marginTop:"1em"},children:[e.jsx("button",{type:"submit",children:r?"Update Card":"Add Card"}),r&&e.jsx("button",{type:"button",onClick:E,style:{marginLeft:"1em"},children:"Cancel"})]})]})]})}export{S as default};
